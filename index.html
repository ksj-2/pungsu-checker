<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>우리집 풍수 진단</title>
  <meta name="description" content="AI 셀프 풍수 진단으로 우리집 집터/명당/이사방향을 무료 분석.">

  <!-- AdSense: Auto Ads (앵커/사이드레일 포함) -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1819982598567420" crossorigin="anonymous"></script>
  <meta name="google-adsense-account" content="ca-pub-1819982598567420">

  <!-- 기본 스타일: 기존 다크/청록 톤 유지 -->
  <style>
    :root{
      --bg:#0f1b2b;--panel:#132235;--txt:#e8f0ff;--muted:#9fb1c7;--accent:#21d4b4;
    }
    /* === Anchors/Side-rails 가 잘리던 원인 차단 === */
    html, body{
      background:var(--bg);
      color:var(--txt);
      font-family:system-ui,-apple-system,"Noto Sans KR",Roboto,Arial,sans-serif;
      overflow-x: visible !important;          /* 가로 스크롤 숨기지 않기 */
      transform: none !important;              /* 조상 transform 제거 */
      -webkit-transform: none !important;
      filter: none !important;                 /* 조상 filter/perspective 제거 */
      -webkit-filter: none !important;
      perspective: none !important;
      -webkit-perspective: none !important;
      backface-visibility: visible !important;
    }

    .wrap{max-width:980px;margin:40px auto;padding:0 16px}
    .title{font-size:28px;font-weight:900;color:#37f7cd;text-align:center;margin:6px 0 16px}
    .card{background:var(--panel);border-radius:14px;padding:18px 18px 8px;box-shadow:0 10px 30px rgba(0,0,0,.25)}
    .grid{display:grid;grid-template-columns:1fr 1fr;gap:14px}
    .field{margin-bottom:16px}
    .label{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px;color:var(--muted);font-weight:700}
    input[type=text], input[type=number], select{width:100%;padding:14px 12px;border-radius:10px;border:1px solid rgba(255,255,255,.1);background:#0b1625;color:var(--txt);outline:none}
    .options{display:flex;flex-wrap:wrap;gap:10px}
    .chip{display:inline-flex;align-items:center;gap:8px;padding:10px 12px;border-radius:999px;background:#0b1625;border:1px solid rgba(255,255,255,.12);cursor:pointer}
    input[type=radio],input[type=checkbox]{appearance:auto !important;-webkit-appearance:auto !important;display:inline-block !important;position:static !important;width:auto;height:auto;margin-right:8px}
    .cta{margin-top:12px;display:flex;gap:12px;flex-wrap:wrap}
    .btn{flex:1 1 280px;display:inline-flex;align-items:center;justify-content:center;height:56px;border-radius:14px;background:linear-gradient(135deg,#26e0c1,#19a37f);font-weight:900;border:none;color:#012218;cursor:pointer}
    .btn.secondary{background:#e14069;color:#fff}

    /* === 광고 래퍼: 좌우/상하 절대 안 잘리게 === */
    .ad-wrap{display:grid;place-items:center;width:100%;margin:16px auto;text-align:center !important;overflow:visible !important}
    .ad-wrap *{box-sizing:border-box}
    .ad-box{display:grid;place-items:center;width:100%;max-width:728px;margin:0 auto;overflow:visible !important}
    .ad-wrap.fullbleed{width:100vw;margin-left:calc(50% - 50vw);margin-right:calc(50% - 50vw);padding-left:12px;padding-right:12px;max-width:100vw}
    .ad-wrap iframe{display:block !important;margin:0 auto !important;max-width:100% !important}
    .ad-box > ins.adsbygoogle{display:block !important;width:100% !important;margin:0 auto !important;min-height:50px}

    @media (max-width:780px){ .grid{grid-template-columns:1fr} .wrap{margin:20px auto} }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="title">우리집 풍수 진단</div>

    <!-- [광고 #1] 헤더 하단 고정 슬롯 (표준 디스플레이) -->
    <div class="ad-wrap">
      <div class="ad-box">
        <ins class="adsbygoogle"
             style="display:block"
             data-ad-client="ca-pub-1819982598567420"
             data-ad-slot="3450469461"
             data-ad-format="auto"
             data-full-width-responsive="true"></ins>
      </div>
    </div>

    <div class="card">
      <div class="grid">
        <div class="field">
          <div class="label">주소</div>
          <input type="text" id="addr" placeholder="예) 서울특별시 종로구 세종대로 209">
        </div>
        <div class="field">
          <div class="label">층수</div>
          <input type="number" id="floor" placeholder="예) 7" min="1" max="100">
        </div>
        <div class="field">
          <div class="label">건물 유형</div>
          <select id="building">
            <option value="">선택하세요</option>
            <option>아파트</option><option>연립/빌라</option><option>단독주택</option><option>오피스텔</option>
          </select>
        </div>

        <!-- 거실 방향 -->
        <div class="field" id="dirField">
          <div class="label">거실 방향 <a href="#" style="color:#66ffe0;text-decoration:underline">방향 확인법</a></div>
          <div class="options" id="dirOptions">
            <label class="chip"><input type="radio" name="dir" value="남향">남향</label>
            <label class="chip"><input type="radio" name="dir" value="동향">동향</label>
            <label class="chip"><input type="radio" name="dir" value="서향">서향</label>
            <label class="chip"><input type="radio" name="dir" value="북향">북향</label>
            <label class="chip"><input type="radio" name="dir" value="잘모름">잘 모르겠어요</label>
          </div>
        </div>

        <div class="field">
          <div class="label">거실 창문에서 보이는 것 (다중 선택)</div>
          <div class="options" id="viewOptions">
            <label class="chip"><input type="checkbox" value="산">산</label>
            <label class="chip"><input type="checkbox" value="강/하천">강/하천</label>
            <label class="chip"><input type="checkbox" value="공원">공원</label>
            <label class="chip"><input type="checkbox" value="건물">건물</label>
            <label class="chip"><input type="checkbox" value="도로">도로</label>
            <label class="chip"><input type="checkbox" value="없음">아무것도 안 보임</label>
          </div>
        </div>

        <div class="field">
          <div class="label">하루 햇빛 시간</div>
          <div class="options" id="sunOptions">
            <label class="chip"><input type="radio" name="sun" value="거의없음">거의 없음(1시간 미만)</label>
            <label class="chip"><input type="radio" name="sun" value="1-2시간">1–2시간</label>
            <label class="chip"><input type="radio" name="sun" value="3시간이상">3시간 이상</label>
          </div>
        </div>

        <div class="field">
          <div class="label">집의 위치</div>
          <div class="options" id="locOptions">
            <label class="chip"><input type="radio" name="loc" value="큰길가">큰 길가</label>
            <label class="chip"><input type="radio" name="loc" value="골목중간">골목 중간</label>
            <label class="chip"><input type="radio" name="loc" value="교차로모퉁이">T자/교차로 모퉁이</label>
            <label class="chip"><input type="radio" name="loc" value="막다른끝">막다른 골목 끝</label>
          </div>
        </div>

        <div class="field">
          <div class="label">집터 지형 (다중 선택)</div>
          <div class="options" id="zoneOptions">
            <label class="chip"><input type="checkbox" value="평지">평지</label>
            <label class="chip"><input type="checkbox" value="비탈">비탈</label>
            <label class="chip"><input type="checkbox" value="골짜기">골짜기</label>
            <label class="chip"><input type="checkbox" value="언덕">언덕</label>
          </div>
        </div>

        <div class="field">
          <div class="label">베란다 확장 여부</div>
          <div class="options" id="verandaOptions">
            <label class="chip"><input type="radio" name="ver" value="예">확장</label>
            <label class="chip"><input type="radio" name="ver" value="아니오">미확장</label>
          </div>
        </div>
      </div>

      <div class="cta">
        <button class="btn" id="startBtn">풍수 감정 시작</button>
        <button class="btn secondary" id="luckyBtn">무료 운세 보러가기</button>
      </div>
    </div>

    <!-- [광고 #2] 폼 하단 -->
    <div class="ad-wrap">
      <div class="ad-box">
        <ins class="adsbygoogle"
             style="display:block"
             data-ad-client="ca-pub-1819982598567420"
             data-ad-slot="4103740429"
             data-ad-format="auto"
             data-full-width-responsive="true"></ins>
      </div>
    </div>

    <!-- 결과 블록 (간단 데모) -->
    <div id="result" class="card" style="margin-top:16px; display:none">
      <div class="title" style="margin-top:0">결과</div>
      <p id="resultText" style="color:var(--muted);text-align:center;margin-bottom:8px"></p>

      <!-- [광고 #3] 결과 상단 -->
      <div class="ad-wrap">
        <div class="ad-box">
          <ins class="adsbygoogle"
               style="display:block"
               data-ad-client="ca-pub-1819982598567420"
               data-ad-slot="4464482511"
               data-ad-format="auto"
               data-full-width-responsive="true"></ins>
        </div>
      </div>

      <div style="height:8px"></div>

      <!-- [광고 #4] 멀티플렉스(autorelaxed) 결과 하단 -->
      <div class="ad-wrap">
        <div class="ad-box">
          <ins class="adsbygoogle"
               style="display:block"
               data-ad-client="ca-pub-1819982598567420"
               data-ad-slot="9447953480"
               data-ad-format="autorelaxed"></ins>
        </div>
      </div>
    </div>

    <!-- 풀블리드 예시(광고 폭이 화면을 꽉 채우게) -->
    <div class="ad-wrap fullbleed">
      <div class="ad-box" style="max-width:100vw">
        <ins class="adsbygoogle"
             style="display:block"
             data-ad-client="ca-pub-1819982598567420"
             data-ad-slot="2002465307"
             data-ad-format="auto"
             data-full-width-responsive="true"></ins>
      </div>
    </div>

  </div>

  <script>
    // == 광고는 화면에 "보일 때"만 push() => 중복 로드/클리핑 이슈 방지
    const adObserver=new IntersectionObserver((entries)=>{
      entries.forEach(entry=>{
        const ins=entry.target;
        if(!entry.isIntersecting) return;
        if(ins.dataset.adPushed==='true') return;
        try{ (adsbygoogle=window.adsbygoogle||[]).push({}); ins.dataset.adPushed='true'; }
        catch(e){ console.warn('ads push error', e); }
        finally{ adObserver.unobserve(ins); }
      });
    },{root:null,threshold:0});

    function observeAds(root=document){
      root.querySelectorAll('ins.adsbygoogle').forEach(ins=>{
        if(ins.getAttribute('data-adsbygoogle-status')==='done'||ins.dataset.adPushed==='true') return;
        // 상위 display:none이면 skip
        let cur=ins, hidden=false;
        while(cur && cur!==document.body){
          const s=getComputedStyle(cur);
          if(s.display==='none'||s.visibility==='hidden'){ hidden=true; break; }
          cur=cur.parentElement;
        }
        if(!hidden) adObserver.observe(ins);
      });
    }
    observeAds();

    // 사이드레일/앵커는 Auto Ads가 담당 (상단 script로 활성화)
    // 결과 표시 데모
    document.getElementById('startBtn').addEventListener('click',()=>{
      const addr=document.getElementById('addr').value||'(주소 미입력)';
      const dir=(document.querySelector('input[name="dir"]:checked')||{}).value||'방향 미선택';
      document.getElementById('resultText').textContent=addr+' / '+dir+' 기준 임시 결과입니다.';
      document.getElementById('result').style.display='block';
      observeAds(document.getElementById('result')); // 결과의 광고도 관찰
      window.scrollTo({top:document.getElementById('result').offsetTop-20, behavior:'smooth'});
    });

    document.getElementById('luckyBtn').addEventListener('click',()=>{
      window.location.href='https://www.shinhanlife.co.kr/hp/cdhg0130.do';
    });
  </script>
</body>
</html>
